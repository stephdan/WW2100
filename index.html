
<!DOCTYPE html>
<html lang="en">
<head>
	
	<meta charset="UTF-8">
    <title>WW2100 Key Findings</title>           

    <!-- jquery and bootstrap css for ui stuff -->
	<link rel="stylesheet" href="lib/jquery-ui-1.11.4/jquery-ui.min.css">
	<link rel="stylesheet" href="lib/bootstrap-3.3.6-dist/css/bootstrap.css">
	
    <!-- d3 for SVG manipulation, d3-queue for asynchronous json imports-->
    <!-- TODO d3 isn't actually used for anything except json import -->
    <script src="lib/d3/d3.js"></script>
    <script src="https://d3js.org/d3-queue.v2.min.js"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>

	<script src="//code.jquery.com/jquery-1.10.2.js"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <script src="lib/bootstrap-3.3.6-dist/js/bootstrap.js"></script>
    
    <link rel="stylesheet" href="style/style.css" />

    <!-- Leaflet provides the map and tile service -->
    <link rel="stylesheet" href="lib/leaflet/leaflet.css"/>
    <script src="lib/leaflet/leaflet.js"></script>
	<script src="lib/leaflet-providers.js"></script> <!-- Easy basemap get -->
</head>

<body>

	<!-- leaflet map goes in this div -->
	<div id="map"></div>
	
	<!-- Holds all the dropdowns etc for data selection -->
	<div id="dataSelectUIContainer" class="uiBox">
		
		<div class="selectorContainer">
			<label>Select Data Layer</label>
			<select name="dataTypeSelect" id="dataTypeSelect" class="form-control">
				<option value="landcover">Land Cover</option>
				<option value="snowfall">Snow Water Equivalent</option>
				<option value="devLandVal">Developed Land Value</option>
				<option value="agLandVal">Agricultural Land Value</option>
				<option value="aridity">Aridity Index</option>
			</select>
		</div>
		
		<div class="sliderContainer">
			<div class="stepLabels" style="text-align: center">
				<span style="float: left">2010</span>
				<span>2050</span>
				<span style="float: right">2099</span>
			</div>
			<input type="range" id="timeRange" min="1" max="3" step="1" 
			 value="1" list="steplist"/>
			<datalist id="steplist">
				<option>1</option>
			    <option>2</option>
			    <option>3</option>
			</datalist>
		</div>
		
		<label style="margin: 10px 0px 0px 0px;">Compare Scenarios</label>
		<div data-toggle="buttons">
			
			<label 
			 data-toggle="popover"
			 data-content="Mid-range assumptions about climate change and human growth."
			 data-placement="left"
			 data-container="body"
			 class="btn btn-primary referenceScenarioBtn scenarioButton 
			        landcover snowfall agLandVal devLandVal aridity active" 
			 id="refButton">
				<input type="radio" name="options" id="refRadio" autocomplete="off" checked>
				Reference Case
			</label>
			
			<button class="glyphicon glyphicon-question-sign scenarioExplainerButton"
			id="refButtonExplainer">
			</button>
			
			<label 
			 data-toggle="popover"
			 data-content="Assumes a high level of climate change."
			 data-placement="left"
			 data-container="body"
			 class="btn btn-primary climateScenarioBtn scenarioButton 
			        landcover" 
			 id="highClimButton">
				<input type="radio" name="options" id="option2" autocomplete="off"> 
				High Climate Change
			</label>
			
			<button class="glyphicon glyphicon-question-sign scenarioExplainerButton"
			id="highClimButtonExplainer">
			</button>
			
			<label 
			 data-toggle="popover"
			 data-content="High urban population growth."
			 data-placement="left"
			 data-container="body"
			 class="btn btn-primary climateScenarioBtn scenarioButton 
			        landcover agLandVal" 
			 id="highPopButton">
				<input type="radio" name="options" id="option2" autocomplete="off"> 
				High Population
			</label>
			
			<button class="glyphicon glyphicon-question-sign scenarioExplainerButton"
			id="highPopButtonExplainer">
			</button>
			
			<label 
			 data-toggle="popover"
			 data-content="Fast expansion of urban growth boundary, low development density."
			 data-placement="left"
			 data-container="body"
			 class="btn btn-primary climateScenarioBtn scenarioButton 
			        landcover agLandVal" 
			 id="urbExpandButton">
				<input type="radio" name="options" id="option2" autocomplete="off"> 
				Urban Expansion
			</label>
			
			<button class="glyphicon glyphicon-question-sign scenarioExplainerButton"
			id="urbExpandButtonExplainer">
			</button>
			
			<label 
			data-toggle="popover"
			 data-content="Increased fire suppression."
			 data-placement="left"
			 data-container="body"
			 class="btn btn-primary climateScenarioBtn scenarioButton 
			        landcover" 
			 id="fireSuppressButton">
				<input type="radio" name="options" id="option2" autocomplete="off"> 
				Fire Suppression
			</label>
			
			<button class="glyphicon glyphicon-question-sign scenarioExplainerButton"
			id="fireSuppressButtonExplainer">
			</button>
			
			<label 
			data-toggle="popover"
			 data-content="Assumes mid-range changes in climate and population growth, with a continuation of recent trends in resource use and management."
			 data-placement="left"
			 data-container="body"
			 class="btn btn-primary climateScenarioBtn scenarioButton 
			        landcover" 
			 id="managedButton">
				<input type="radio" name="options" id="option2" autocomplete="off">
				Managed
			</label>
			
			<button class="glyphicon glyphicon-question-sign scenarioExplainerButton"
			id="managedButtonExplainer">
			</button>
			
			<label 
			data-toggle="popover"
			 data-content="Assumes extreme changes in climate change and population growth, combined with policies that emphasize resource use over conservation."
			 data-placement="left"
			 data-container="body"
			 class="btn btn-primary climateScenarioBtn scenarioButton 
			        landcover agLandVal aridity" 
			 id="econExtremeButton">
				<input type="radio" name="options" id="option2" autocomplete="off"> 
				Worst Case
			</label>
			
			<button class="glyphicon glyphicon-question-sign scenarioExplainerButton"
			id="econExtremeButtonExplainer">
			</button>
			
			
			
			
			
			
			
			
			
		</div>

		<div class="checkbox">
			<label><input type="checkbox" id="citiesLayerCheckbox" checked value="">
				<div id="citiesIcon">
					<svg width="20px" height="10px">
						<circle cx="10" cy="5" r="3" fill="black" />
					</svg> 
				</div> Cities
			</label>
		</div>
		
		
		
		<div class="checkbox">
			<label><input type="checkbox" id="streamsLayerCheckbox" checked value="">
				<div id="streamsIcon"></div> Streams
			</label>
		</div>
		
		<div class="sliderContainer">
			<label>Adjust Opacity</label>
			<input type="range" id="opacitySlider"/ min="0", max="1" value="0.8" step="0.01">
		</div>
		
		<div class="selectorContainer">
			<label>Select Base Layer</label>
			<select name="baseLayerSelect" id="baseLayerSelect" class="form-control">
				<option class="basemap" value="Esri_WorldTerrain">Terrain</option>
				<option class="basemap" value="Stamen_Toner">Roads, Streams, Cities</option>
				<option class="basemap" value="Esri_WorldImagery">Imagery</option>
				<option class="basemap" value="Esri_NatGeoWorldMap">National Geographic</option>
				
			</select>
		</div>
		
		
	</div>

	<!-- Bootstrap Modals! These are what show up when the i button is clicked -->
	
	<!-- Snow Info modal -->
	<div class="container">
	  <!-- Modal -->
	  <div class="modal fade" id="snowfallModal" role="dialog">
	    <div class="modal-dialog">
	      <!-- Modal content-->
	      <div class="modal-content">
	        <div class="modal-header">
	          <button type="button" class="close" data-dismiss="modal">&times;</button>
	          <h4 class="modal-title">Snow Information</h4>
	        </div>
	        <div class="modal-body">
	          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, 
	          	sed do eiusmod tempor incididunt ut labore et dolore magna 
	          	aliqua. Ut enim ad minim veniam, quis nostrud exercitation 
	          	ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis 
	          	aute irure dolor in reprehenderit in voluptate velit esse cillum 
	          	dolore eu fugiat nulla pariatur. Excepteur sint occaecat 
	          	cupidatat non proident, sunt in culpa qui officia deserunt 
	          	mollit anim id est laborum.</p>
	        </div>
	        <div class="modal-footer">
	          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        </div>
	      </div>
	    </div>
	  </div>
	</div>
	
	<!-- Developed Land Value info modal -->
	<div class="container">
	  <!-- Modal -->
	  <div class="modal fade" id="devLandValModal" role="dialog">
	    <div class="modal-dialog">
	      <!-- Modal content-->
	      <div class="modal-content">
	        <div class="modal-header">
	          <button type="button" class="close" data-dismiss="modal">&times;</button>
	          <h4 class="modal-title">Developed Land Value Information</h4>
	        </div>
	        <div class="modal-body">
	          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, 
	          	sed do eiusmod tempor incididunt ut labore et dolore magna 
	          	aliqua. Ut enim ad minim veniam, quis nostrud exercitation 
	          	ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis 
	          	aute irure dolor in reprehenderit in voluptate velit esse cillum 
	          	dolore eu fugiat nulla pariatur. Excepteur sint occaecat 
	          	cupidatat non proident, sunt in culpa qui officia deserunt 
	          	mollit anim id est laborum.</p>
	        </div>
	        <div class="modal-footer">
	          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        </div>
	      </div>
	    </div>
	  </div>
	</div>
	
	<!-- Landcover Info Modal -->
	<div class="container">
	  <!-- Modal -->
	  <div class="modal fade" id="landcoverModal" role="dialog">
	    <div class="modal-dialog">
	      <!-- Modal content-->
	      <div class="modal-content">
	        <div class="modal-header">
	          <button type="button" class="close" data-dismiss="modal">&times;</button>
	          <h4 class="modal-title">Landcover</h4>
	        </div>
	        <div class="modal-body">
	          <p>Use the interactive map to view changes in land cover over time 
	          	for different modeling scenarios. Look for these major trends:</p>
	          
	          <label>Expansion of Cities</label>
	          
	          <ul>
	          	<li>
	          		Population growth leads to expansion of cities and 
	          		conversion of lands from agricultural (yellow shading) and 
	          		forest (green shading) land uses to developed land uses 
	          		(purple).   Use the time slider bar, to compare the size of 
	          		cities in 2010, 2050, and 2099.   
	          	</li>
	          	<li>
	          		The extent of urbanization depends on the rate of 
	          		population and income growth, and land management policies.  
	          		Use the scenario buttons to explore the effect of different 
	          		assumptions about population growth. The Reference scenario 
	          		adopts population growth rates from the Oregon Office of 
	          		Economic Analysis (2011). Population more than doubles over 
	          		the century, rising from 2.41 million in 2010 to 5.37 million 
	          		in 2099. The Worst Case scenario assumes than many more 
	          		people move Willamette valley cities -- population nearly 
	          		quadruples to 8.25 million by 2099.
	          	</li>
	          </ul>
	          <img style="width: 75%" src="resources/lulc_refVSworst2.png" />
	          <label>Changes in Forest Types:</label>
	          
	          <ul>
	          	<li>
	          		•	A warming climate leads to drier forests that are more 
	          		susceptible to wildfire.  Fire opens up lands to regrow into 
	          		new forest types better suited to warmer climate conditions. 
	          		Use the time slider bar to compare the types of forests that 
	          		extend over the Willamette Basin uplands over the 
	          		simulations. At high elevations, subalpine forests are 
	          		replaced by cool conifer forests. At mid-elevations, 
	          		Douglas-fir and western hemlock forest types shift to 
	          		mixed-conifer forest types.
	          	</li>
	          	<li>
	          		•	Forest changes are most extensive in simulations with 
	          		greater climate warming.  Use the scenario buttons to 
	          		compare changes in forest types between low (Low Climate 
	          		Scenario), moderate (Reference Scenario) and high climate 
	          		(High Climate Scenario) change scenarios.   Climate warming 
	          		and wildfire is most extensive in the high climate scenario 
	          		and leads to the most dramatic shifts in forest composition.
	          	</li>
	          </ul>
	          <img src="resources/lulc_graph.png" style="width: 60%;"/>
	          
	        </div>
	        <div class="modal-footer">
	          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        </div>
	      </div>
	    </div>
	  </div>
	</div>

	<!-- END MODALS -->
	
	
	<div id="legendAndInfoButtonContainer">
		<!-- Container for the legend -->
		<div id="legendContainer" class="uiBox">
			<label>Legend Title</label>
			<div id="legendItemContainer"></div>
		</div>
		<!-- Button for showing modals -->
		<!-- <div id="info" data-toggle="modal" data-target="#landcoverModal">
			<svg id="infoIcon" width="10" height="33">
				<circle cx="4.5" cy="7" r="3"/>
				<rect x="0" y="13" width="7" height="3"></rect>
				<rect x="3" y="15" width="4" height="10"></rect>
				<rect x="0" y="24" width="10" height="3"></rect>
			</svg>
		</div> -->
	</div>
	
	<div id="info" style="display: none;">
		<!-- The i is totally just 3 svg rectangles and a circle 
			arranged in an i shape -->
		<svg id="infoIcon" width="10" height="33">
			<circle cx="4.5" cy="7" r="3"/>
			<rect x="0" y="13" width="7" height="3"></rect>
			<rect x="3" y="15" width="4" height="10"></rect>
			<rect x="0" y="24" width="10" height="3"></rect>
		</svg>
	</div>
	
	<div id="storyWindow" class="ui-widget-content resizable">
		<div id="storyTitleBar">
			<div id='storyTitleText'>Story Title!</div>
			<div class='closeStoryWindow'><span class='ui-icon ui-icon-close'></span></div>
		</div>
	    <div class="storyContent resizableContent">
			<p>
				Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer 
				nec odio. Praesent libero. Sed cursus ante dapibus diam. Sed 
				nisi. Nulla quis sem at nibh elementum imperdiet. Duis sagittis 
				ipsum. Praesent mauris. Fusce nec tellus sed augue semper porta.
				Mauris massa. Vestibulum lacinia arcu eget nulla. Class aptent 
				taciti sociosqu ad litora torquent per conubia nostra, per 
				inceptos himenaeos. Curabitur sodales ligula in libero. Sed 
				dignissim lacinia nunc. 
			</p>
	    </div>
	</div>
	
	
	<div id="loading" class="uiBox hidden">Loading data, please wait...</div>
	
	<!-- Main scripts, they initialize the App -->
	<script src="scripts/ColorUtils.js"></script>
    <script src="scripts/main2.js"></script>
    <script src="scripts/tileBuilder.js"></script>
    <script src="scripts/geojson-vt-dev.js"></script>
    <script src="scripts/L.CanvasTiles.js"></script>
    <script src="scripts/GUI.js"></script>
</body>
</html>